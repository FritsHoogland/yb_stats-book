<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>--gauges-enable - yb_stats book</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="data_sources.html"><strong aria-hidden="true">2.</strong> Data sources</a></li><li class="chapter-item expanded "><a href="install.html"><strong aria-hidden="true">3.</strong> Install</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="upgrade.html"><strong aria-hidden="true">3.1.</strong> Upgrade</a></li></ol></li><li class="chapter-item expanded "><a href="running_yb_stats.html"><strong aria-hidden="true">4.</strong> Running yb_stats</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="specifying_hosts.html"><strong aria-hidden="true">4.1.</strong> Specifying hosts</a></li><li class="chapter-item expanded "><a href="specifying_ports.html"><strong aria-hidden="true">4.2.</strong> Specifying ports</a></li><li class="chapter-item expanded "><a href="specifying_parallel.html"><strong aria-hidden="true">4.3.</strong> Specifying parallel</a></li><li class="chapter-item expanded "><a href="dotenv.html"><strong aria-hidden="true">4.4.</strong> .env</a></li><li class="chapter-item expanded "><a href="snaphost_results.html"><strong aria-hidden="true">4.5.</strong> yb_stats snapshot results</a></li></ol></li><li class="chapter-item expanded "><a href="snapshot_mode.html"><strong aria-hidden="true">5.</strong> Snapshot mode</a></li><li class="chapter-item expanded "><a href="output_modes.html"><strong aria-hidden="true">6.</strong> Output modes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="output_metrics.html"><strong aria-hidden="true">6.1.</strong> Metrics</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="output_mode_ad-hoc.html"><strong aria-hidden="true">6.1.1.</strong> Ad-hoc mode (in memory diff)</a></li><li class="chapter-item expanded "><a href="output_mode_snapshot-diff.html"><strong aria-hidden="true">6.1.2.</strong> Snapshot-diff mode</a></li><li class="chapter-item expanded "><a href="output_mode_gauges.html" class="active"><strong aria-hidden="true">6.1.3.</strong> --gauges-enable</a></li><li class="chapter-item expanded "><a href="output_mode_details-enable.html"><strong aria-hidden="true">6.1.4.</strong> --details-enable</a></li><li class="chapter-item expanded "><a href="filters.html"><strong aria-hidden="true">6.1.5.</strong> Filters</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="filter_hostname_match.html"><strong aria-hidden="true">6.1.5.1.</strong> --hostname-match</a></li><li class="chapter-item expanded "><a href="filter_stat_name_match.html"><strong aria-hidden="true">6.1.5.2.</strong> --stat-name-match</a></li><li class="chapter-item expanded "><a href="filter_table_name_match.html"><strong aria-hidden="true">6.1.5.3.</strong> --table-name-match</a></li></ol></li><li class="chapter-item expanded "><a href="output_metrics_description.html"><strong aria-hidden="true">6.1.6.</strong> Output description</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="output_metrics_value.html"><strong aria-hidden="true">6.1.6.1.</strong> Value statistics</a></li><li class="chapter-item expanded "><a href="output_metrics_countsum.html"><strong aria-hidden="true">6.1.6.2.</strong> CountSum statistics</a></li><li class="chapter-item expanded "><a href="output_metrics_countsumrows.html"><strong aria-hidden="true">6.1.6.3.</strong> CountSumRows statistics</a></li><li class="chapter-item expanded "><a href="output_metrics_statement.html"><strong aria-hidden="true">6.1.6.4.</strong> Statement statistics</a></li><li class="chapter-item expanded "><a href="output_metrics_nodeexporter.html"><strong aria-hidden="true">6.1.6.5.</strong> Node-exporter statistics</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="print_mode.html"><strong aria-hidden="true">6.2.</strong> Print modes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="print_mode_version.html"><strong aria-hidden="true">6.2.1.</strong> print-version</a></li><li class="chapter-item expanded "><a href="print_mode_log.html"><strong aria-hidden="true">6.2.2.</strong> print-log</a></li><li class="chapter-item expanded "><a href="print_mode_gflags.html"><strong aria-hidden="true">6.2.3.</strong> print-gflags</a></li><li class="chapter-item expanded "><a href="print_mode_memtrackers.html"><strong aria-hidden="true">6.2.4.</strong> print-memtrackers</a></li><li class="chapter-item expanded "><a href="print_mode_masters.html"><strong aria-hidden="true">6.2.5.</strong> print-masters</a></li><li class="chapter-item expanded "><a href="print_mode_entities.html"><strong aria-hidden="true">6.2.6.</strong> print-entities</a></li><li class="chapter-item expanded "><a href="print_mode_rpcs.html"><strong aria-hidden="true">6.2.7.</strong> print-rpcs</a></li><li class="chapter-item expanded "><a href="print_mode_threads.html"><strong aria-hidden="true">6.2.8.</strong> print-threads</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="crontab.html"><strong aria-hidden="true">7.</strong> Crontab</a></li><li class="chapter-item expanded "><a href="troubleshooting.html"><strong aria-hidden="true">8.</strong> Troubleshooting</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">yb_stats book</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/fritshoogland-yugabyte/yb_stats-book" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="--gauges-enable"><a class="header" href="#--gauges-enable">--gauges-enable</a></h1>
<p>The default output for metrics shows the values of metrics of the type <em>counter</em>. Counters are ever increasing values. In most cases, a counter value on itself is not that useful, but the difference between two points in time is. That is the reason metrics requires two snapshots: to have the ability to calculate the difference, and thus understand how much a counter has changed.</p>
<p>But, there are also metrics that show absolute values, for which the value is not ever increasing, but instead just shows the current situation. This means that the difference between two points in time does not provide the same meaning as for a counter. The difference between the two points in time for absolute values can still be important. Such as value is called a gauge.</p>
<p>By default, <code>yb_stats</code> does NOT show gauge values. To make <code>yb_stats</code> show gauge values additional to the counters, is using the <code>--gauges-enable</code> switch.</p>
<p>This is <code>yb_stats</code> in ad-hoc mode (not showing gauges):</p>
<pre><code class="language-shell">yb_stats
Begin metrics snapshot created, press enter to create end snapshot for difference calculation.

Time between snapshots:    1.019 seconds
192.168.66.80:12000  server   cpu_stime                                                                            2 ms               2.200 /s
192.168.66.80:12000  server   cpu_utime                                                                           13 ms              14.301 /s
192.168.66.80:12000  server   server_uptime_ms                                                                   910 ms            1001.100 /s
192.168.66.80:12000  server   voluntary_context_switches                                                         233 csws           256.326 /s
</code></pre>
<p>This is <code>yb_stats</code> in ad-hoc mode showing gauges:</p>
<pre><code class="language-shell">yb_stats --gauges-enable
Begin metrics snapshot created, press enter to create end snapshot for difference calculation.

Time between snapshots:    1.053 seconds
192.168.66.80:12000  server   cpu_stime                                                                            2 ms               1.927 /s
192.168.66.80:12000  server   cpu_utime                                                                           13 ms              12.524 /s
192.168.66.80:12000  server   generic_current_allocated_bytes                                               26914872 bytes            +1120
192.168.66.80:12000  server   generic_heap_size                                                             43188224 bytes               +0
192.168.66.80:12000  server   hybrid_clock_error                                                              500000 us                  +0
192.168.66.80:12000  server   hybrid_clock_hybrid_time                                               6824678428388270080 us         +4253745152
192.168.66.80:12000  server   server_uptime_ms                                                                  1038 ms            1000.000 /s
192.168.66.80:12000  server   tcmalloc_current_total_thread_cache_bytes                                      2560384 bytes          +137976
192.168.66.80:12000  server   tcmalloc_max_total_thread_cache_bytes                                         33554432 bytes               +0
192.168.66.80:12000  server   tcmalloc_pageheap_free_bytes                                                   3579904 bytes           -90112
192.168.66.80:12000  server   tcmalloc_pageheap_unmapped_bytes                                               7847936 bytes            -8192
192.168.66.80:12000  server   threads_running                                                                     45 threads              +0
192.168.66.80:12000  server   threads_running_CQLServer_reactor                                                    1 threads              +0
192.168.66.80:12000  server   threads_running_acceptor                                                             1 threads              +0
192.168.66.80:12000  server   threads_running_iotp_CQLServer                                                       4 threads              +0
192.168.66.80:12000  server   threads_running_rpc_thread_pool                                                     15 threads              +0
192.168.66.80:12000  server   voluntary_context_switches                                                         294 csws           283.237 /s
</code></pre>
<p>The gauge values can be spotted because they do not end with '/s', because they do not show its value per second. Instead, the first value is the value of the END snapshot, and the second value is the difference with the FIRST snapshot.</p>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/fritshoogland-yugabyte/yb_stats-book/edit/main/src/output_mode_gauges.md">Edit this page on GitHub.</a></footer>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="output_mode_snapshot-diff.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="output_mode_details-enable.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="output_mode_snapshot-diff.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="output_mode_details-enable.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
